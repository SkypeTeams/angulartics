/**
 * @license Angulartics v0.19.2
 * (c) 2013 Luis Farzati http://luisfarzati.github.io/angulartics
 * License: MIT
 */
!function(t){"use strict";var e=window.angulartics||(window.angulartics={});e.waitForVendorCount=0,e.waitForVendorApi=function(t,n,a,i,r){r||e.waitForVendorCount++,i||(i=a,a=void 0),!Object.prototype.hasOwnProperty.call(window,t)||void 0!==a&&void 0===window[t][a]?setTimeout(function(){e.waitForVendorApi(t,n,a,i,!0)},n):(e.waitForVendorCount--,i(window[t]))},t.module("angulartics",[]).provider("$analytics",function(){var n={pageTracking:{autoTrackFirstPage:!0,autoTrackVirtualPages:!0,trackRelativePath:!1,autoBasePath:!1,basePath:"",excludedRoutes:[]},eventTracking:{},bufferFlushDelay:1e3,developerMode:!1},a=["pageTrack","eventTrack","setAlias","setUsername","setUserProperties","setUserPropertiesOnce","setSuperProperties","setSuperPropertiesOnce"],i={},r={},s=function(t){return function(){e.waitForVendorCount&&(i[t]||(i[t]=[]),i[t].push(arguments))}},o=function(e,n){return r[e]||(r[e]=[]),r[e].push(n),function(){var n=arguments;t.forEach(r[e],function(t){t.apply(this,n)},this)}},u={settings:n},c=function(t,e){e?setTimeout(t,e):t()},g={$get:function(){return u},api:u,settings:n,virtualPageviews:function(t){this.settings.pageTracking.autoTrackVirtualPages=t},excludeRoutes:function(t){this.settings.pageTracking.excludedRoutes=t},firstPageview:function(t){this.settings.pageTracking.autoTrackFirstPage=t},withBase:function(e){this.settings.pageTracking.basePath=e?t.element(document).find("base").attr("href"):""},withAutoBase:function(t){this.settings.pageTracking.autoBasePath=t},developerMode:function(t){this.settings.developerMode=t}},f=function(e,a){u[e]=o(e,a);var r=n[e],s=r?r.bufferFlushDelay:null,g=null!==s?s:n.bufferFlushDelay;t.forEach(i[e],function(t,e){c(function(){a.apply(this,t)},e*g)})},l=function(t){return t.replace(/^./,function(t){return t.toUpperCase()})},p=function(t){var e="register"+l(t);g[e]=function(e){f(t,e)},u[t]=o(t,s(t))};return t.forEach(a,p),g}).run(["$rootScope","$window","$analytics","$injector",function(e,n,a,i){function r(t){for(var e=0;e<a.settings.pageTracking.excludedRoutes.length;e++){var n=a.settings.pageTracking.excludedRoutes[e];if(n instanceof RegExp&&n.test(t)||t.indexOf(n)>-1)return!0}return!1}function s(t,e){r(t)||a.pageTrack(t,e)}a.settings.pageTracking.autoTrackFirstPage&&i.invoke(["$location",function(t){var e=!0;if(i.has("$route")){var r=i.get("$route");for(var o in r.routes){e=!1;break}}else if(i.has("$state")){var u=i.get("$state");for(var c in u.get()){e=!1;break}}if(e)if(a.settings.pageTracking.autoBasePath&&(a.settings.pageTracking.basePath=n.location.pathname),a.settings.pageTracking.trackRelativePath){var g=a.settings.pageTracking.basePath+t.url();s(g,t)}else s(t.absUrl(),t)}]),a.settings.pageTracking.autoTrackVirtualPages&&i.invoke(["$location",function(t){a.settings.pageTracking.autoBasePath&&(a.settings.pageTracking.basePath=n.location.pathname+"#");var r=!0;if(i.has("$route")){var o=i.get("$route");for(var u in o.routes){r=!1;break}e.$on("$routeChangeSuccess",function(e,n){if(!n||!(n.$$route||n).redirectTo){var i=a.settings.pageTracking.basePath+t.url();s(i,t)}})}i.has("$state")&&(r=!1,e.$on("$stateChangeSuccess",function(){var e=a.settings.pageTracking.basePath+t.url();s(e,t)})),r&&e.$on("$locationChangeSuccess",function(e,n){if(!n||!(n.$$route||n).redirectTo)if(a.settings.pageTracking.trackRelativePath){var i=a.settings.pageTracking.basePath+t.url();s(i,t)}else s(t.absUrl(),t)})}]),a.settings.developerMode&&t.forEach(a,function(t,e){"function"==typeof t&&(a[e]=function(){})})}]).directive("analyticsOn",["$analytics",function(e){function n(t){return["a:","button:","button:button","button:submit","input:button","input:submit"].indexOf(t.tagName.toLowerCase()+":"+(t.type||""))>=0}function a(t){return n(t)?"click":"click"}function i(t){return n(t)?t.innerText||t.value:t.id||t.name||t.tagName}function r(t){return"analytics"===t.substr(0,9)&&-1===["On","Event","If","Properties","EventType"].indexOf(t.substr(9))}function s(t){var e=t.slice(9);return void 0!==e&&null!==e&&e.length>0?e.substring(0,1).toLowerCase()+e.substring(1):e}return{restrict:"A",link:function(n,o,u){var c=u.analyticsOn||a(o[0]),g={};t.forEach(u.$attr,function(t,e){r(e)&&(g[s(e)]=u[e],u.$observe(e,function(t){g[s(e)]=t}))}),t.element(o[0]).bind(c,function(a){var r=u.analyticsEvent||i(o[0]);g.eventType=a.type,(!u.analyticsIf||n.$eval(u.analyticsIf))&&(u.analyticsProperties&&t.extend(g,n.$eval(u.analyticsProperties)),e.eventTrack(r,g,n))})}}}])}(angular);